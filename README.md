# Arc Lamp

Arc Lamp comprises a set of scripts for getting useful performance data out of
HHVM's Xenon extension. The Xenon extension captures a trace of PHP code at
regular intervals. When aggregated, the data generated by the Xenon extension
call help you determine where your program is spending the most time.

## Prerequisites

* A PHP application running on HHVM.
* A Redis server.
* flamegraph.pl from [brendangregg/FlameGraph](https://github.com/brendangregg/FlameGraph)

## Quick start

Enable the Xenon extension in HHVM's INI file:

```ini
# Capture a trace once every 10 minutes.
hhvm.xenon.period = 600
```

Edit `$xenonRedisServer` and `$xenonRedisPort` in `xenon_handler.php` and
incorporate it into your application.

## License

Copyright 2014 Ori Livneh <ori@wikimedia.org>

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
